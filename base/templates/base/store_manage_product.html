<style>
    .cart {
    width: 1000px;
    margin: 0 auto;
    background-color:  #004643;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    color: #b2bdbd;

}

h1 {
    font-size: 24px;
    margin: 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

table th, table td {
    border: 1px solid #fff;
    padding: 10px;
    text-align: left;
}

table th {
    background-color: #51546e;
    color: #fff;
}

table td img {
    max-width: 50px;
    height: auto;
}

.checkout {
    text-align: right;
    margin-top: 20px;
}

button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #0056b3;
}
.checkout {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
}

.search-form {
    display: flex;
    gap: 10px; /* Adjust the space between the search input and the button */
}

.search-input {
    width: 400px; /* As specified in your inline style */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.search-button {
    padding: 10px 20px;
    border: none;
    background-color: #5cb85c;
    color: white;
    border-radius: 4px;
    cursor: pointer;
}

.search-button:hover {
    background-color: #4cae4c; /* Darker green on hover */
}

.create-account-btn {
    padding: 10px 20px;
    background-color: #337ab7;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    display: inline-block; /* To allow padding and margin */
    cursor: pointer;
}

.create-account-btn:hover {
    background-color: #286090; /* Darker blue on hover */
}
.pagination {
    margin-top: 20px;
    display: flex;
    justify-content: center; /* Căn giữa theo chiều ngang */
}

.pagination a {
    padding: 5px 10px;
    margin: 0 5px;
    background-color: #51546e;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
}

.pagination a.active {
    background-color: #007bff;
}
</style>
<div class="topics">
    <div class="room__top">
        
        <div class="room__topLeft">
            <a href="{% url 'shop' %}">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                  <title>arrow-left</title>
                  <path
                    d="M13.723 2.286l-13.723 13.714 13.719 13.714 1.616-1.611-10.96-10.96h27.625v-2.286h-27.625l10.965-10.965-1.616-1.607z">
                  </path>
                </svg>
              </a>
            <h3>Manage product</h3>
        </div>

    </div>

    <div class="cart">
        <div class="checkout">
            <form action="{%url 'store_products' store.id %}" method="GET">
                <input type="search" name="q" placeholder="Search..." class="search-input">
          <button type="submit" class="search-button" hidden>Search</button>
      </form>
      {%if store.status != "rejected" %}
      <a href="{% url 'product_create' store.id%}" class="create-account-btn"> + Create new Product</a>
        {%endif%}  
         </div>
        <table>
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Status</th>

                    <th>Action</th>

                </tr>
            </thead>
            <tbody>
                {%for p in products %}
                <tr>
                    <td><img src="{{p.image.url}}" alt="Sản phẩm 1"></td>
                    <td>{{p.name}}</td>
                    <td>${{p.price}}</td>
                    <td>{{p.quantity}}</td>
                    <td>{{p.status}}</td>

                    <td>
                        <a href="{%url 'product_update' store_id=store.id product_id=p.id%}" style="color: #b2bdbd;"><svg enable-background="new 0 0 24 24"
                            height="16" viewBox="0 -1 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
                            <title>edit</title>
                            <g>
                              <path d="m23.5 22h-15c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h15c.276 0 .5.224.5.5s-.224.5-.5.5z" />
                            </g>
                            <g>
                              <g>
                                <path
                                  d="m2.5 22c-.131 0-.259-.052-.354-.146-.123-.123-.173-.3-.133-.468l1.09-4.625c.021-.09.067-.173.133-.239l14.143-14.143c.565-.566 1.554-.566 2.121 0l2.121 2.121c.283.283.439.66.439 1.061s-.156.778-.439 1.061l-14.142 14.141c-.065.066-.148.112-.239.133l-4.625 1.09c-.038.01-.077.014-.115.014zm1.544-4.873-.872 3.7 3.7-.872 14.042-14.041c.095-.095.146-.22.146-.354 0-.133-.052-.259-.146-.354l-2.121-2.121c-.19-.189-.518-.189-.707 0zm3.081 3.283h.01z" />
                              </g>
                              <g>
                                <path
                                  d="m17.889 10.146c-.128 0-.256-.049-.354-.146l-3.535-3.536c-.195-.195-.195-.512 0-.707s.512-.195.707 0l3.536 3.536c.195.195.195.512 0 .707-.098.098-.226.146-.354.146z" />
                              </g>
                            </g>
                          </svg>


                        </a>


                        <a href="{%url 'product_delete' store_id=store.id product_id=p.id%}" style="color:  #b2bdbd;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                      </svg>
                    </a>
                </td>
                </tr>
                {%endfor%}
                <!-- Thêm các sản phẩm khác ở đây -->
            </tbody>
        </table>
        
    </div>


    <script>
        document.addEventListener("DOMContentLoaded", function() {
          const rowsPerPage = 4;
          const table = document.querySelector("table");
          const tbody = table.querySelector("tbody");
          const rows = tbody.querySelectorAll("tr");
          const numPages = Math.ceil(rows.length / rowsPerPage);
          let currentPage = 1;
      
          function showRows(page) {
            const start = (page - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            rows.forEach((row, index) => {
              if (index >= start && index < end) {
                row.style.display = "table-row";
              } else {
                row.style.display = "none";
              }
            });
          }
      
          function createNavigation() {
        const nav = document.createElement("div");
        nav.classList.add("pagination");
    
        const prevPageLink = document.createElement("a");
        prevPageLink.textContent = "\u00AB"; // Unicode for "«"
        prevPageLink.href = "#";
        prevPageLink.classList.add("prev-page");
        prevPageLink.addEventListener("click", function(event) {
            event.preventDefault();
            if (currentPage > 1) {
                currentPage--;
                showRows(currentPage);
                updateActivePage();
            }
        });
        nav.appendChild(prevPageLink);
    
        // Tạo liên kết cho trang hiện tại và các trang trước và sau
        for (let i = Math.max(1, currentPage - 3); i <= Math.min(numPages, currentPage + 3); i++) {
            const pageLink = document.createElement("a");
            pageLink.textContent = i;
            pageLink.href = "#";
            pageLink.addEventListener("click", function(event) {
                event.preventDefault();
                currentPage = i;
                showRows(currentPage);
                updateActivePage();
            });
            nav.appendChild(pageLink);
        }
    
        const nextPageLink = document.createElement("a");
        nextPageLink.textContent = "\u00BB"; // Unicode for "»"
        nextPageLink.href = "#";
        nextPageLink.classList.add("next-page");
        nextPageLink.addEventListener("click", function(event) {
            event.preventDefault();
            if (currentPage < numPages) {
                currentPage++;
                showRows(currentPage);
                updateActivePage();
            }
        });
        nav.appendChild(nextPageLink);
    
        table.insertAdjacentElement("afterend", nav);
    }
      
          function updateActivePage() {
            const pageLinks = document.querySelectorAll(".pagination a");
            pageLinks.forEach(link => {
              if (parseInt(link.textContent) === currentPage) {
                link.classList.add("active");
              } else {
                link.classList.remove("active");
              }
            });
          }
      
          showRows(currentPage);
          createNavigation();
          updateActivePage();
        });
      </script>