<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'your_app/styles.css' %}">
  <title>Messenger Chat</title>
</head>
<style>
    /* styles.css */
body, html {
  height: 100%;
  margin: 0;
  font-family: 'Arial', sans-serif;
  background-color: #f4f4f4;
}

.container-fluid {
  height: 100%;
}

.contacts_card, .chat {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.msg_card_body {
  overflow-y: auto;
}

.card-header {
  padding: 15px;
  border-bottom: 1px solid #e6e6e6;
}

.card-footer {
  border-top: 1px solid #e6e6e6;
}

.contacts {
  list-style: none;
  padding: 0;
  margin: 0;
}

.contacts li {
  cursor: pointer;
  padding: 10px;
  position: relative;
}

.contacts li:hover {
  background-color: #f5f5f5;
}

.msg_card_body {
  overflow-y: auto;
}

.type_msg {
  border: none;
  padding-left: 15px;
  padding-right: 15px;
  width: 75%;
}

.send_btn {
  cursor: pointer;
  color: #007bff;
  font-size: 20px;
}

.msg_card {
  position: relative;
}

.msg_card_body {
  max-height: 450px;
  overflow-y: auto;
}

.msg_card_body::-webkit-scrollbar {
  width: 5px;
}

.msg_card_body::-webkit-scrollbar-thumb {
  background-color: #007bff;
}

.msg_card_body::-webkit-scrollbar-track {
  background-color: #f1f1f1;
}

</style>
<body>

<div class="container-fluid h-100">
  <div class="row justify-content-center h-100">
    <!-- Friends List -->
    
    <div class="col-md-3 col-xl-2 chat">
      <div class="card mb-sm-3 mb-md-0 contacts_card">
        <div class="card-header">
          <div class="input-group">
            <input type="text" placeholder="Search..." name="" class="form-control search">
          </div>
        </div>
        <div class="card-body contacts_body">
          <ui class="contacts">
            <p>anhtrinh</p>
            <!-- Friends will be added dynamically using JavaScript -->
          </ui>
        </div>
      </div>
    </div>
    <!-- Chat Area -->
    <div class="col-md-8 col-xl-6 chat">
      <div class="card">
        <div class="card-header msg_head">
            <p>anhtrinh</p>
          <!-- Friend's name will be added dynamically using JavaScript -->
        </div>
        <div class="card-body msg_card_body">
          <!-- Messages will be added dynamically using JavaScript -->
        </div>
        <div class="card-footer">
          <div class="input-group">
            <textarea name="" class="form-control type_msg" placeholder="Type your message..."></textarea>
            <div class="input-group-append">
              <span class="input-group-text send_btn"><i class="fas fa-location-arrow"></i></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
    // scripts.js
$(document).ready(function () {
  // Dynamically add friends, messages, and update chat header
  // Implement your logic to fetch friends and messages from the server

  // Example:
  const friendsList = $('.contacts');
  const chatHeader = $('.msg_head');
  const chatMessages = $('.msg_card_body');

  // Populate friends list (Replace with your actual friend data)
  const friendsData = [
    { id: 1, name: 'Friend 1' },
    { id: 2, name: 'Friend 2' },
    // Add more friends as needed
  ];

  friendsData.forEach((friend) => {
    friendsList.append(`<li onclick="openChat(${friend.id}, '${friend.name}')">${friend.name}</li>`);
  });

  // Function to open chat with a friend
  window.openChat = function (friendId, friendName) {
    chatHeader.html(friendName);
    chatMessages.html(''); // Clear previous messages
    // Implement logic to fetch and display messages for the selected friend
    // You can use AJAX to fetch messages from the server
  };
});

</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<script src="{% static 'your_app/scripts.js' %}"></script>

</body>
</html>
