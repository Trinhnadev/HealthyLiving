



{%load static%}
<div class="col-md-2 newsfeed-left-side sticky-top shadow-sm" id="sidebar-wrapper">
    <div class="card newsfeed-user-card h-100">
        <ul class="list-group list-group-flush newsfeed-left-sidebar" id="marketplace-parameters">
            <li class="list-group-item d-flex align-items-center justify-content-between">
                <h6>Events</h6>
                <a href="{%url 'create-event'%}" class="btn btn-sm btn-quick-link join-group-btn btn-rounded">
                    <i class="bx bx-plus"></i>
                </a>
            </li>
            <form action="{%url 'event'%}" method="GET">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div class="input-group messenger-input w-100 align-items-center pr-2">
                    <input type="text" class="form-control search-input"
                        placeholder="Search Products" aria-label="Type a message..."
                        aria-describedby="button-addon2" name ="q">
                    <div class="input-group-append">
                      <button class="btn-btn search-button" type="submit"><i class="bx bx-search"></i></button>
                    </div>
                </div>
            </li>
          </form>

            
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{%url 'event'%}" class="sidebar-item"><i class='bx bxs-store'></i> Home</a>
            </li>
            
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{%url 'myevent'%}" class="sidebar-item"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                  </svg> My Event</a>
            </li>


            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{%url 'eventJoined'%}" class="sidebar-item">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stack" viewBox="0 0 16 16">
                  <path d="m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"/>
                  <path d="m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"/>
                </svg>
                Joined</a>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <a href="{% url 'liked_events' %}" class="sidebar-item"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg> Liked</a>
          </li>


            
        </ul>
    </div>
</div>
<script>
    // Khi một mục menu được nhấp, hãy thêm class 'active' vào nó và loại bỏ từ các mục khác
    document.addEventListener('DOMContentLoaded', function() {
      var menuItems = document.querySelectorAll('.menu-item');
  
      menuItems.forEach(function(item) {
        item.addEventListener('click', function() {
          // Xóa class 'active' khỏi tất cả các mục
          menuItems.forEach(function(item) {
            item.classList.remove('active');
          });
  
          // Thêm class 'active' vào mục được nhấp
          this.classList.add('active');
        });
      });
    });




    let numberOfRequests = document.getElementById('requestCount').textContent;

function checkRequests() {
    if (numberOfRequests > 0) {
        document.getElementById('requestNotificationDot').style.display = 'flex';
    } else {
        document.getElementById('requestNotificationDot').style.display = 'none';
    }
}

// Gọi hàm này khi trang được tải hoặc sau khi cập nhật số lượng yêu cầu
checkRequests();

document.querySelector('.search input').addEventListener('input', function() {
    // Lấy giá trị nhập vào
    var searchTerm = this.value.trim().toLowerCase(); // Chuyển đổi giá trị nhập vào thành chữ thường

    // Lặp qua danh sách tên người dùng và ẩn/hiển thị tùy thuộc vào kết quả tìm kiếm
    var menuItems = document.querySelectorAll('.event-container .event-card');
    menuItems.forEach(function(item) {
      var username = item.textContent.trim().toLowerCase(); // Lấy tên người dùng và chuyển thành chữ thường
      if (username.includes(searchTerm)) {
        item.style.display = 'block'; // Hiển thị menu-item nếu tên người dùng chứa từ khóa tìm kiếm
      } else {
        item.style.display = 'none'; // Ẩn menu-item nếu tên người dùng không chứa từ khóa tìm kiếm
      }
    });
  });
  </script>
